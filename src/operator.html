<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flowstate</title>
  <link rel="stylesheet" href="css/operator-modern.css">
</head>
<body>
  <header class="header">
    <div class="logo">
      <div class="logo-icon">
        <svg viewBox="0 0 512 512" fill="none">
          <defs>
            <linearGradient id="umbrellaGrad" x1="0" y1="0" x2="512" y2="512" gradientUnits="userSpaceOnUse">
              <stop offset="0%" stop-color="#00C6FB"/>
              <stop offset="100%" stop-color="#005BEA"/>
            </linearGradient>
            <mask id="iconCutout" maskUnits="userSpaceOnUse" x="0" y="0" width="512" height="512">
              <rect width="512" height="512" rx="100" fill="white"/>
              <g fill="black">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M256 120C183.107 120 124 179.107 124 252H164C164 201.189 205.189 160 256 160C306.811 160 348 201.189 348 252H388C388 179.107 328.893 120 256 120Z"/>
                <path d="M174 272L202 360H310L338 272H174Z"/>
                <rect x="215" y="300" width="82" height="12" rx="6"/>
                <rect x="215" y="324" width="50" height="12" rx="6"/>
              </g>
            </mask>
          </defs>
          <rect width="512" height="512" rx="100" fill="url(#umbrellaGrad)" mask="url(#iconCutout)"/>
        </svg>
      </div>
      <span class="logo-text">Flowstate</span>
    </div>

    <div class="header-divider"></div>

    <div class="dropdown" id="fileDropdown">
      <button type="button" class="btn ghost dropdown-toggle">
        <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/></svg>
        File
      </button>
      <div class="dropdown-menu">
        <button type="button" class="dropdown-item" id="openFileBtn">
          <svg viewBox="0 0 24 24"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"/></svg>
          Open File
        </button>
        <button type="button" class="dropdown-item" id="saveProjectBtn">
          <svg viewBox="0 0 24 24"><path d="M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7l-4-4z"/></svg>
          Save Project
        </button>
        <button type="button" class="dropdown-item" id="loadProjectBtn">
          <svg viewBox="0 0 24 24"><path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V7l-4-4z"/></svg>
          Load Project
        </button>
      </div>
    </div>

    <div class="dropdown" id="exportDropdown">
      <button type="button" class="btn ghost dropdown-toggle">
        <svg viewBox="0 0 24 24"><path d="M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"/></svg>
        Export
      </button>
      <div class="dropdown-menu">
        <button type="button" class="dropdown-item" id="exportGuideBtn">
          <svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.11.89 2 2 2h14c1.11 0 2-.89 2-2V5c0-1.11-.89-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"/></svg>
          Export Timeline
        </button>
        <button type="button" class="dropdown-item" id="exportDocxBtn">
          <svg viewBox="0 0 24 24"><path d="M14 2H6c-1.11 0-2 .89-2 2v16c0 1.11.89 2 2 2h8l6-6V4c0-1.11-.89-2-2-2zm4 18l-4 4H6c-1.11 0-2-.89-2-2V4c0-1.11.89-2 2-2h8v6h6v10z"/></svg>
          Export Script
        </button>
      </div>
    </div>

    <div class="header-divider"></div>

    <button class="btn primary" id="headerPlayPauseBtn">
      <svg viewBox="0 0 24 24" id="headerPlayIcon"><path d="M8 5v14l11-7z"/></svg>
      <span id="headerPlayText">Play Teleprompter</span>
    </button>

    <button class="btn success" id="toggleRecordingBtn">
      <svg viewBox="0 0 24 24"><circle cx="12" cy="12" r="8"/></svg>
      Start Recording
    </button>

    <!-- Recording Timer in Header -->
    <div class="header-recording-timer" id="headerRecordingTimer" style="display: none;">
      <div class="recording-dot-small"></div>
      <span class="header-timer" id="headerSessionTimer">00:00:00</span>
    </div>

    <div class="file-indicator">
      <span class="dot"></span>
      <span id="fileName">No file loaded</span>
    </div>

    <div class="version-info">
      <span class="version-badge" id="versionBadge">v1.2.0</span>
      <button class="btn btn-check-updates" id="checkUpdatesBtn">Check for Updates</button>
    </div>
  </header>

  <!-- Update Banner -->
  <div class="update-banner" id="updateBanner">
    <svg class="update-banner-icon" viewBox="0 0 24 24">
      <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
    </svg>
    <div class="update-banner-text" id="updateText">
      Update available <span id="updateVersion"></span>
    </div>
    <button class="btn" id="updateActionBtn">Download</button>
    <button class="update-banner-close" id="updateCloseBtn">
      <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
    </button>
  </div>

  <main class="main">
    <div class="script-panel">
      <!-- Multi-Script Tabs - Phase 1 Feature -->
      <div class="script-tabs" id="scriptTabs">
        <div class="script-tab active" data-script-id="main">
          <span class="script-tab-name">Untitled</span>
          <div class="script-tab-status"></div>
          <button class="script-tab-close" onclick="event.stopPropagation();">
            <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
          </button>
        </div>
        <button class="script-tab-add" id="addScriptTab" title="Add script">
          <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
        </button>
      </div>

      <div class="script-header">
        <div class="script-header-top">
          <h2>Script</h2>
          <div class="view-toggle-large">
            <button class="view-btn active" id="viewEditorBtn">
              <svg viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
              Editor
            </button>
            <button class="view-btn" id="viewMonitorBtn">
              <svg viewBox="0 0 24 24"><path d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 14H3V5h18v12z"/></svg>
              Monitor
            </button>
          </div>
          <span class="char-count" id="charCount">0 characters</span>
        </div>
        <div class="script-tools">
          <button class="btn btn-tool" id="clearHighlightBtn" title="Clear emphasis highlight">
            <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
            Clear Highlight
          </button>
          <button class="btn btn-tool" id="jumpViewBtn" title="Jump to other view with selection highlighted">
            <svg class="jump-to-monitor-icon" viewBox="0 0 24 24"><path d="M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 14H3V5h18v12z"/></svg>
            <svg class="jump-to-editor-icon" style="display:none" viewBox="0 0 24 24"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
            <span class="jump-btn-text">Jump to Monitor</span>
          </button>
          <button class="btn btn-tool" id="cleanUpBtn" title="Remove extra blank lines">
            <svg viewBox="0 0 24 24"><path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/></svg>
            Clean Up
          </button>
        </div>
      </div>
      <div class="script-content">
        <div class="script-editor active" id="editorView">
          <textarea id="scriptText" placeholder="Start typing your script here, or open a Word document..."></textarea>
        </div>
        <div class="script-monitor" id="monitorView">
          <div class="monitor-container" id="monitorContainer">
            <!-- Scaled clone of teleprompter - renders at teleprompter size then scaled down -->
            <div class="monitor-preview-frame">
              <div class="monitor-preview" id="monitorPreview">
                <!-- Inner container for mirror/flip transforms (separate from scale) -->
                <div class="monitor-flip-container" id="monitorFlipContainer">
                  <div class="gradient-top"></div>
                  <div class="reading-guide"></div>
                  <div class="script-wrapper" id="monitorScriptWrapper">
                    <div class="script-text" id="monitorScriptText">Waiting for script...</div>
                  </div>
                  <div class="gradient-bottom"></div>
                  <!-- Countdown Overlay -->
                  <div class="monitor-countdown-overlay" id="monitorCountdownOverlay">
                    <div class="monitor-countdown-number" id="monitorCountdownNumber">3</div>
                    <div class="monitor-countdown-text">Starting in...</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="monitor-progress">
            <div class="monitor-progress-bar" id="monitorProgressBar"></div>
          </div>
          <div class="monitor-status">
            <div class="status-badge">
              <div class="status-dot" id="monitorStatusDot"></div>
              <span id="monitorStatusText">Ready</span>
            </div>
            <button class="btn" id="editFromMonitorBtn" style="padding: 4px 8px; font-size: 10px;">
              <svg viewBox="0 0 24 24" style="width: 12px; height: 12px;"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
              Edit
            </button>
            <span id="monitorPercent">0%</span>
          </div>
        </div>
      </div>
    </div>

    <aside class="control-panel">
      <!-- ========== SETUP PANE ========== -->
      <div class="pane setup-pane" id="setupPane">

        <!-- Display Pane Header -->
        <div class="pane-header">
          <h3>Display</h3>
          <button class="pane-nav-btn" id="showRecordingToolsBtn">
            <svg class="nav-icon" viewBox="0 0 24 24"><circle cx="12" cy="12" r="8"/></svg>
            <span>Recording</span>
            <svg class="nav-arrow" viewBox="0 0 24 24"><path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"/></svg>
          </button>
        </div>

        <!-- Display Section -->
        <div class="setup-section">
          <div class="setup-section-label">Select Display</div>
          <div class="setup-row">
            <select class="setup-select" id="displaySelect">
              <option value="">Select display...</option>
            </select>
            <button class="setup-icon-btn" id="refreshDisplaysBtn" title="Refresh displays">
              <svg viewBox="0 0 24 24"><path d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
            </button>
          </div>
          <div class="setup-btn-row">
            <button class="setup-btn primary" id="openDisplayBtn">Open Display</button>
            <button class="setup-btn" id="closeDisplayBtn">Close</button>
          </div>
        </div>

        <!-- Appearance Section -->
        <div class="setup-section">
          <div class="setup-section-label">Appearance</div>

          <div class="setup-option-row">
            <span class="setup-option-label">Font</span>
            <select class="setup-select-sm" id="fontFamilySelect">
              <option value="Arial">Arial</option>
              <option value="Helvetica">Helvetica</option>
              <option value="Georgia">Georgia</option>
              <option value="Times New Roman">Times</option>
              <option value="Verdana">Verdana</option>
              <option value="Courier New">Courier</option>
            </select>
          </div>

          <div class="setup-slider-row">
            <span class="setup-option-label">Size</span>
            <input type="range" class="setup-slider" id="fontSizeInput" min="24" max="200" value="72">
            <span class="setup-slider-value" id="fontSizeValue">72</span>
          </div>

          <div class="setup-option-row">
            <span class="setup-option-label">Text Color</span>
            <input type="color" class="setup-color" id="textColorInput" value="#ffffff">
          </div>

          <div class="setup-option-row">
            <span class="setup-option-label">Background</span>
            <input type="color" class="setup-color" id="bgColorInput" value="#000000">
          </div>

          <div class="setup-toggle-row">
            <span class="setup-option-label">Mirror</span>
            <label class="setup-toggle">
              <input type="checkbox" id="mirrorCheckbox">
              <span class="setup-toggle-track"></span>
            </label>
          </div>

          <div class="setup-toggle-row">
            <span class="setup-option-label">Flip</span>
            <label class="setup-toggle">
              <input type="checkbox" id="flipCheckbox">
              <span class="setup-toggle-track"></span>
            </label>
          </div>
        </div>

        <!-- Playback Section -->
        <div class="setup-section">
          <div class="setup-section-label">Playback</div>
          <div class="setup-toggle-row">
            <span class="setup-option-label">Teleprompter Countdown</span>
            <label class="setup-toggle">
              <input type="checkbox" id="countdownCheckbox" checked>
              <span class="setup-toggle-track"></span>
            </label>
          </div>
          <div class="setup-option-row" id="countdownRow">
            <span class="setup-option-label">Seconds</span>
            <input type="number" class="setup-number" id="countdownSeconds" value="3" min="1" max="10">
          </div>
          <div class="setup-toggle-row">
            <span class="setup-option-label">Recording Countdown</span>
            <label class="setup-toggle">
              <input type="checkbox" id="recordingCountdownCheckbox" checked>
              <span class="setup-toggle-track"></span>
            </label>
          </div>
          <div class="setup-option-row" id="recordingCountdownRow">
            <span class="setup-option-label">Seconds</span>
            <input type="number" class="setup-number" id="recordingCountdownSeconds" value="5" min="1" max="30">
          </div>
        </div>

        <!-- Remote Control Section -->
        <div class="setup-section">
          <div class="setup-section-label">Remote Control</div>
          <div class="setup-status-row">
            <div class="setup-status-dot" id="remoteStatusDot"></div>
            <span class="setup-status-text" id="remoteStatusText">Off</span>
          </div>
          <div class="setup-btn-row">
            <button class="setup-btn primary" id="startRemoteBtn">Start</button>
            <button class="setup-btn" id="stopRemoteBtn">Stop</button>
          </div>
          <div class="setup-remote-info" id="remoteUrlBox" style="display: none;">
            <img id="remoteQrCode" alt="QR Code" class="setup-qr">
            <div class="setup-remote-url" id="remoteUrl"></div>
          </div>
        </div>

        <!-- Keyboard Shortcuts -->
        <div class="setup-section">
          <div class="setup-section-label">Shortcuts</div>
          <div class="setup-shortcut"><span>Play/Pause</span><kbd>Space</kbd></div>
          <div class="setup-shortcut"><span>Speed</span><kbd>‚Üë</kbd><kbd>‚Üì</kbd></div>
          <div class="setup-shortcut"><span>Jump</span><kbd>Home</kbd><kbd>End</kbd></div>
          <div class="setup-shortcut"><span>To Cursor</span><kbd>‚åòJ</kbd></div>
        </div>

        <!-- Footer -->
        <div class="setup-footer">
          <div class="setup-folder-row">
            <button class="setup-footer-btn" id="openTimelineFolderSetupBtn">
              <svg viewBox="0 0 24 24"><path d="M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>
              Open Timelines Folder
            </button>
            <button class="setup-change-link" id="saveLocationChangeBtn">Change</button>
          </div>
        </div>

      </div>

      <!-- ========== RECORDING PANE ========== -->
      <div class="pane recording-pane" id="recordingPane" style="display: none;">

        <!-- Recording Pane Header -->
        <div class="pane-header">
          <button class="pane-nav-btn back" id="showSetupBtn" title="Back to Display">
            <svg class="nav-arrow" viewBox="0 0 24 24"><path d="M15.41 16.59L10.83 12l4.58-4.59L14 6l-6 6 6 6 1.41-1.41z"/></svg>
          </button>
          <h3>Recording</h3>
          <button class="pane-icon-btn" id="openTimelineFolderBtn" title="Open saved timelines">
            <svg viewBox="0 0 24 24"><path d="M10 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"/></svg>
          </button>
        </div>

        <!-- Speed Slider -->
        <div class="rec-slider-section">
          <div class="rec-slider-header">
            <span class="rec-slider-label">Speed</span>
            <span class="rec-slider-value" id="speedValueHeader">30</span>
          </div>
          <input type="range" class="rec-slider" id="speedSlider" min="1" max="100" value="30">
        </div>

        <!-- Position Slider -->
        <div class="rec-slider-section">
          <div class="rec-slider-header">
            <span class="rec-slider-label">Position</span>
            <span class="rec-slider-value" id="positionValueHeader">0%</span>
          </div>
          <input type="range" class="rec-slider" id="positionSlider" min="0" max="100" value="0">
          <div class="rec-position-btns">
            <button class="rec-pos-btn" id="jumpStartBtn">Start</button>
            <button class="rec-pos-btn" id="jumpEndBtn">End</button>
            <input type="text" class="rec-find-input" id="findTextInput" placeholder="Find text...">
            <button class="rec-pos-btn" id="findTextBtn">Find</button>
          </div>
        </div>

        <!-- Marker Buttons -->
        <div class="rec-markers-section">
          <div class="rec-section-label">Markers</div>
          <div class="rec-marker-btns">
            <button class="rec-marker-btn retake" id="recordingMarkerRetake">üî¥ Retake</button>
            <button class="rec-marker-btn stumble" id="recordingMarkerStumble">‚ö†Ô∏è Stumble</button>
            <button class="rec-marker-btn note" id="recordingMarkerNote">üìù Note</button>
          </div>
        </div>

        <!-- Timeline -->
        <div class="rec-timeline">
          <div class="rec-timeline-header">
            <span>Timeline</span>
            <span class="rec-timeline-count" id="markerCountSmall">0</span>
          </div>
          <div class="rec-timeline-content" id="recordingTimelineContent">
            <div class="rec-timeline-empty">No markers yet</div>
          </div>
        </div>

      </div>

    </aside>
  </main>

  <!-- Script Rename Modal -->
  <div class="modal-overlay" id="renameModal">
    <div class="modal">
      <h3>Rename Script</h3>
      <input type="text" id="renameInput" placeholder="Enter script name...">
      <div class="modal-buttons">
        <button class="btn" id="renameCancelBtn">Cancel</button>
        <button class="btn primary" id="renameSaveBtn">Save</button>
      </div>
    </div>
  </div>

  <!-- Slide Range Modal -->
  <div class="modal-overlay" id="slideRangeModal">
    <div class="modal">
      <h3>Edit Slide Range</h3>
      <input type="text" id="slideRangeInput" placeholder='e.g., "1-10" or "5" or "1-3, 8-10"'>
      <div class="modal-buttons">
        <button class="btn" id="slideRangeCancelBtn">Cancel</button>
        <button class="btn primary" id="slideRangeSaveBtn">Save</button>
      </div>
    </div>
  </div>

  <!-- Note Marker Modal -->
  <div class="modal-overlay" id="noteModal">
    <div class="modal">
      <h3>Add Note</h3>
      <input type="text" id="noteInput" placeholder="Enter note...">
      <div class="modal-buttons">
        <button class="btn" id="noteCancelBtn">Cancel</button>
        <button class="btn primary" id="noteSaveBtn">Add Note</button>
      </div>
    </div>
  </div>

  <!-- Retake Marker Modal -->
  <div class="modal-overlay" id="retakeModal">
    <div class="modal">
      <h3>Mark Retake</h3>
      <p style="color: var(--text-secondary); font-size: 13px; margin: 8px 0 12px 0;">Where should the editor go back to for the retake?</p>
      <input type="text" id="retakeInput" placeholder="Starting at...">
      <div class="modal-buttons">
        <button class="btn" id="retakeCancelBtn">Cancel</button>
        <button class="btn danger" id="retakeSaveBtn">Mark Retake</button>
      </div>
    </div>
  </div>

  <!-- Export Guide Modal -->
  <div class="modal-overlay" id="exportModal">
    <div class="modal">
      <h3>Export Editing Guide</h3>
      <p style="color: var(--text-secondary); font-size: 13px; margin: 12px 0;">Choose export format:</p>
      <div class="modal-buttons">
        <button class="btn" id="exportCancelBtn">Cancel</button>
        <button class="btn" id="exportCsvBtn">Export CSV</button>
        <button class="btn primary" id="exportTxtBtn">Export TXT</button>
      </div>
    </div>
  </div>

  <!-- Refresh Warning Modal -->
  <div class="modal-overlay" id="refreshWarningModal">
    <div class="modal">
      <h3>Refresh App?</h3>
      <p style="color: var(--text-secondary); font-size: 13px; margin: 12px 0;">This will reload the app and may clear unsaved work. Are you sure?</p>
      <div class="modal-buttons">
        <button class="btn" id="refreshCancelBtn">Cancel</button>
        <button class="btn primary" id="refreshConfirmBtn">Refresh</button>
      </div>
    </div>
  </div>

  <!-- Stop Recording Confirmation Modal -->
  <div class="modal-overlay" id="stopRecordingModal">
    <div class="modal">
      <h3>Stop Recording?</h3>
      <p style="color: var(--text-secondary); font-size: 13px; margin: 12px 0 16px 0;">
        This will end your recording session.
      </p>
      <div style="background: var(--accent-subtle); border-left: 3px solid var(--accent); padding: 12px; border-radius: 4px; margin-bottom: 16px;">
        <p style="color: var(--text-primary); font-size: 12px; margin: 0; font-weight: 600;">
          üí° Your timeline will be saved automatically to your Timelines folder.
        </p>
      </div>
      <div class="modal-buttons">
        <button class="btn" id="stopRecordingCancelBtn">Cancel</button>
        <button class="btn danger" id="stopRecordingConfirmBtn">Stop Recording</button>
      </div>
    </div>
  </div>


  <!-- Auto-save Indicator - Phase 1 Feature -->
  <div class="autosave-indicator" id="autosaveIndicator">
    <div class="autosave-spinner" id="autosaveSpinner"></div>
    <span id="autosaveText">Auto-saving...</span>
    <span class="autosave-checkmark" id="autosaveCheckmark" style="display: none;">‚úì</span>
  </div>

  <!-- Timeline Saved Toast -->
  <div class="timeline-toast" id="timelineToast">
    <div class="timeline-toast-icon">
      <svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>
    </div>
    <div class="timeline-toast-content">
      <div class="timeline-toast-title">Timeline Saved</div>
      <div class="timeline-toast-file" id="toastFileName">filename.txt</div>
    </div>
    <button class="timeline-toast-btn" id="toastOpenFolderBtn">Open Folder</button>
    <button class="timeline-toast-close" id="toastCloseBtn">
      <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
    </button>
  </div>

  <script src="js/operator.js"></script>
</body>
</html>
